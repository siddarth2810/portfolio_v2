---
import { MdOutlineKeyboardBackspace } from "react-icons/md";

const baseUrl = import.meta.env.BASE_URL;
const baseWithTrailingSlash = baseUrl.endsWith("/") ? baseUrl : `${baseUrl}/`;
const withBase = (path: string) => {
  const cleaned = path.replace(/^\/+/, "");
  return `${baseWithTrailingSlash}${cleaned}`;
};

const currentPath = Astro.url.pathname;
const baseNoTrailingSlash = baseWithTrailingSlash.replace(/\/$/, "");
const isHomePage =
  currentPath === baseWithTrailingSlash || currentPath === baseNoTrailingSlash;
---

<nav class="flex items-center justify-between pb-8 tracking-tight">
  <div>
    {
      isHomePage ? (
        <img
          src={withBase("favicon.svg")}
          alt="logo"
          width="22"
          height="22"
          class="transition-all duration-300 ease-linear hover:rotate-180"
        />
      ) : (
        <a
          href={withBase("")}
          target="_self"
          class="hover:text-primary underline-offset-4 transition duration-150 ease-in-out hover:underline"
        >
          <MdOutlineKeyboardBackspace className="-mt-0.5 inline-block" />
          <span>home</span>
        </a>
      )
    }
  </div>
  <div class="flex items-center gap-4">
    <a
      href={withBase("blogs")}
      target="_self"
      class="hover:text-primary underline-offset-4 transition duration-150 ease-in-out hover:underline"
    >
      blogs
    </a>
    <!-- <a -->
    <!--   href={withBase("colophon")} -->
    <!--   target="_self" -->
    <!--   class="hover:text-primary underline-offset-4 transition duration-150 ease-in-out hover:underline" -->
    <!-- > -->
    <!--   colophon -->
    <!-- </a> -->
    <!-- <a -->
    <!--   href={withBase("ai")} -->
    <!--   target="_self" -->
    <!--   class="hover:text-primary underline-offset-4 transition duration-150 ease-in-out hover:underline" -->
    <!-- > -->
    <!--   laksh://ai -->
    <!-- </a> -->
  </div>
</nav>
